{"version":3,"sources":["../src/buildD3BarChartBuilder.js"],"names":["setD3BuilderConcurrency","buildD3BarChartBuilder","q","concurrency","autostart","svg","data","showBarValues","push","cb","selectAll","enter","append","attr","d","width","x","color","y","height","text","textX","length","fontSize","fontColor","setTimeout"],"mappings":";;;;;QAMgBA,uB,GAAAA,uB;QAIAC,sB,GAAAA,sB;;AAVhB;;;;;;AAEA,IAAMC,IAAI,sBAAV;AACAA,EAAEC,WAAF,GAAgB,EAAhB;AACAD,EAAEE,SAAF,GAAc,IAAd;;AAEO,SAASJ,uBAAT,CAAiCG,WAAjC,EAA8C;AACnDD,IAAEC,WAAF,GAAgBA,WAAhB;AACD;;AAEM,SAASF,sBAAT,CAAgCI,GAAhC,EAAqCC,IAArC,EAA2CC,aAA3C,EAA0D;AAC/DL,IAAEM,IAAF,CAAO,UAASC,EAAT,EAAa;AAClBJ,QACGK,SADH,CACa,MADb,EAEGJ,IAFH,CAEQA,IAFR,EAGGK,KAHH,GAIGC,MAJH,CAIU,MAJV,EAKGC,IALH,CAKQ,OALR,EAKiB;AAAA,aAAQC,EAAEC,KAAV;AAAA,KALjB,EAMGF,IANH,CAMQ,GANR,EAMa;AAAA,aAAQC,EAAEE,CAAV;AAAA,KANb,EAOGH,IAPH,CAOQ,MAPR,EAOgB;AAAA,aAAKC,EAAEG,KAAP;AAAA,KAPhB,EAQGJ,IARH,CAQQ,GARR,EAQa;AAAA,aAAKC,EAAEI,CAAP;AAAA,KARb,EASGL,IATH,CASQ,QATR,EASkB;AAAA,aAAKC,EAAEK,MAAP;AAAA,KATlB;;AAWA,QAAIZ,aAAJ,EAAmB;AACjBF,UACGK,SADH,CACa,MADb,EAEGJ,IAFH,CAEQA,IAFR,EAGGK,KAHH,GAIGC,MAJH,CAIU,MAJV,EAKGQ,IALH,CAKQ;AAAA,eAAKN,EAAEM,IAAP;AAAA,OALR,EAMGP,IANH,CAMQ,aANR,EAMuB,QANvB,EAOGA,IAPH,CAOQ,GAPR,EAOa;AAAA,eAAQC,EAAEO,KAAL,UAAoBP,EAAEC,KAAF,IAAWD,EAAEM,IAAF,CAAOE,MAAP,GAAgB,EAA3B,CAApB,MAAL;AAAA,OAPb,EAQGT,IARH,CAQQ,GARR,EAQa;AAAA,eAAKC,EAAEI,CAAF,GAAM,EAAX;AAAA,OARb,EASGL,IATH,CASQ,WATR,EASqB;AAAA,eAAKC,EAAES,QAAF,IAAc,MAAnB;AAAA,OATrB,EAUGV,IAVH,CAUQ,MAVR,EAUgB;AAAA,eAAKC,EAAEU,SAAF,IAAe,OAApB;AAAA,OAVhB;AAWD;AACDC,eAAW,YAAW;AACpBhB;AACD,KAFD,EAEG,GAFH;AAGD,GA5BD;AA6BD","file":"buildD3BarChartBuilder.js","sourcesContent":["import queue from 'queue';\n\nconst q = queue();\nq.concurrency = 80;\nq.autostart = true;\n\nexport function setD3BuilderConcurrency(concurrency) {\n  q.concurrency = concurrency;\n}\n\nexport function buildD3BarChartBuilder(svg, data, showBarValues) {\n  q.push(function(cb) {\n    svg\n      .selectAll('rect')\n      .data(data)\n      .enter()\n      .append('rect')\n      .attr('width', d => `${d.width}%`)\n      .attr('x', d => `${d.x}%`)\n      .attr('fill', d => d.color)\n      .attr('y', d => d.y)\n      .attr('height', d => d.height);\n\n    if (showBarValues) {\n      svg\n        .selectAll('text')\n        .data(data)\n        .enter()\n        .append('text')\n        .text(d => d.text)\n        .attr('text-anchor', 'middle')\n        .attr('x', d => `${d.textX}%` || `${d.width - (d.text.length + 15)}%`)\n        .attr('y', d => d.y + 10)\n        .attr('font-size', d => d.fontSize || '11px')\n        .attr('fill', d => d.fontColor || 'white');\n    }\n    setTimeout(function() {\n      cb();\n    }, 100);\n  });\n}\n"]}